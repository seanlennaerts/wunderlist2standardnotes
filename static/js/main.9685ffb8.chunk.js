(this.webpackJsonpwunderlist2standardnotes=this.webpackJsonpwunderlist2standardnotes||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(49),i=n.n(l),s=(n(60),n(50)),o=n(51),c=n(53),u=n(52),h=n(7),d=n(54),m=(n(61),n(62));function f(){var e=window.crypto||window.msCrypto;if(e){var t=new Uint32Array(4);e.getRandomValues(t);var n=-1;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var a=t[++n>>3]>>n%8*4&15;return("x"==e?a:3&a|8).toString(16)}))}var a=(new Date).getTime();return window.performance&&"function"===typeof window.performance.now&&(a+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"==e?t:3&t|8).toString(16)}))}var x=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=n.handleSubmit.bind(Object(h.a)(n)),n.handleCheck=n.handleCheck.bind(Object(h.a)(n)),n.export=n.export.bind(Object(h.a)(n)),n.unzip=n.unzip.bind(Object(h.a)(n)),n.fileInput=r.a.createRef(),n.state={lists:[],selected:[],error:""},n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"export",value:function(){for(var e={items:[]},t=0;t<this.state.lists.length;t++)if(this.state.selected[t]){var n=this.state.lists[t];e.items.push({created_at:new Date(n.createdAt),updated_at:this.getMostRecentDate(n.tasks),uuid:f(),content_type:"Note",content:{title:n.title,text:this.buildNote(n.tasks),references:[]}})}!function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}("sn-import-file.txt",JSON.stringify(e))}},{key:"getMostRecentDate",value:function(e){var t=new Date(e[0].createdAt),n=!0,a=!1,r=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done);n=!0){var s=l.value,o=new Date(s.createdAt);o>t&&(t=o)}}catch(c){a=!0,r=c}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}return t}},{key:"buildNote",value:function(e){var t="",n=!0,a=!1,r=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done);n=!0){var s=l.value;s.completed||(t=t+s.title+"\r\n\r\n")}}catch(o){a=!0,r=o}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}return t}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({lists:[],selected:[],error:""}),this.unzip(this.fileInput.current.files[0]).then((function(e){return t.setState(e)})).catch((function(e){return t.setState({error:e})}))}},{key:"handleCheck",value:function(e){var t=this.state.selected;t[parseInt(e.target.name)]=!t[parseInt(e.target.name)],this.setState({selected:t})}},{key:"unzip",value:function(e){return new Promise((function(t,n){m.loadAsync(e).then((function(e){e.files["Tasks.json"]?e.file("Tasks.json").async("string").then((function(e){for(var n=JSON.parse(e.trim()),a=[],r=0;r<n.length;r++)a.push(!0);t({lists:n,selected:a})})):n("Couldn't use this file :(")}))}))}},{key:"showLists",value:function(){return r.a.createElement("div",{className:"previewPane"},r.a.createElement("h3",null,"Found the following lists:"),r.a.createElement("p",null,"Unselect any lists you don't want to export."),r.a.createElement("div",{className:"lists"},this.buildLists()))}},{key:"buildLists",value:function(){for(var e=[],t=0;t<this.state.lists.length;t++){var n=this.state.lists[t];e.push(r.a.createElement("div",{key:t},r.a.createElement("div",{className:"listTitle"},r.a.createElement("input",{type:"checkbox",name:t,checked:this.state.selected[t],onChange:this.handleCheck}),n.title),r.a.createElement("ul",null,this.buildTasks(n.tasks))))}return e}},{key:"buildTasks",value:function(e){for(var t=[],n=e.filter((function(e){return!e.completed})),a=0;a<5&&a<n.length;a++)t.push(r.a.createElement("li",{key:a},e[a].title));return n.length>5&&t.push(r.a.createElement("li",{key:"more"},"...".concat(n.length-5," more"))),t}},{key:"showInstructions",value:function(){return r.a.createElement("div",{className:"instructionPane"},r.a.createElement("h3",null,"Instructions"),r.a.createElement("div",{className:"instructions"},r.a.createElement("ol",null,r.a.createElement("li",null,r.a.createElement("p",null,"Go to ",r.a.createElement("a",{href:"https://export.wunderlist.com/",target:"_blank",rel:"noopener noreferrer"},"https://export.wunderlist.com/"))),r.a.createElement("li",null,r.a.createElement("p",null,"Enter your email address so they can send you your Wunderlist data"),r.a.createElement("img",{src:"/wunderlist2standardnotes/3.png",alt:"screenshot of instruction"})),r.a.createElement("li",null,r.a.createElement("p",null,"Wait for the email to arrive (should take a few minutes). When you get the email follow the link to download your Wunderlist .zip file")),r.a.createElement("li",null,r.a.createElement("p",null,"Upload the .zip file here:"),r.a.createElement("input",{type:"file",accept:".zip",ref:this.fileInput,onChange:this.handleSubmit})),r.a.createElement("li",null,r.a.createElement("p",null,"Preview the lists to the right and unselect any of the lists you don't want to migrate")),r.a.createElement("li",null,r.a.createElement("p",null,"Click on the blue ",r.a.createElement("b",null,"Export")," button below. This should download a .txt file")),r.a.createElement("li",null,r.a.createElement("p",null,"Now in Standard Notes, go to ",r.a.createElement("b",null,"Account")," and click on ",r.a.createElement("b",null,"Import Backup")),r.a.createElement("img",{src:"/wunderlist2standardnotes/4.png",alt:"screenshot of instruction"})),r.a.createElement("li",null,r.a.createElement("p",null,"Select the ",r.a.createElement("b",null,"sn-import-file.txt")," file that just downloaded. That should be it! Let me know if anything breaks")))))}},{key:"showExport",value:function(){return r.a.createElement("div",{className:"export",onClick:this.export},"Export ".concat(this.state.selected.filter((function(e){return e})).length," lists"))}},{key:"showError",value:function(){return r.a.createElement("div",{className:"error"},this.state.error)}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Wunderlist ",r.a.createElement("span",{role:"img","aria-label":"right arrow"},"\u27a1\ufe0f")," Standard Notes")),r.a.createElement("div",{className:"body"},this.state.error.length>0&&this.showError(),r.a.createElement("div",{className:"columns"},this.showInstructions(),this.state.lists.length>0&&this.showLists())),this.state.selected.filter((function(e){return e})).length>0&&this.showExport())}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},55:function(e,t,n){e.exports=n(102)},60:function(e,t,n){},61:function(e,t,n){},67:function(e,t){},69:function(e,t){}},[[55,1,2]]]);
//# sourceMappingURL=main.9685ffb8.chunk.js.map